app:
  description: Gemini File Search PoCã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰Bï¼ˆãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œï¼‰éƒ¨åˆ†
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: Backend B - Gemini File Search PoC
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: r3-yamauchi/gemini_file_search:0.0.1@a9cf50b020b00b20f3b3f462d697f797517551d5d8bb8bf7ef078847080cabeb
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        attachment_image_file_size_limit: 2
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        file_upload_limit: 50
        image_file_batch_limit: 10
        image_file_size_limit: 10
        single_chunk_attachment_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: code
      id: 1768963579039-source-1768963967522-target
      selected: false
      source: '1768963579039'
      sourceHandle: source
      target: '1768963967522'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1768963967522-source-1768964018322-target
      selected: false
      source: '1768963967522'
      sourceHandle: source
      target: '1768964018322'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1768964018322-true-1768964145113-target
      selected: false
      source: '1768964018322'
      sourceHandle: 'true'
      target: '1768964145113'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1768964018322-5bd687de-10b6-47ec-8250-ae10ccbe80ba-1768964163036-target
      selected: false
      source: '1768964018322'
      sourceHandle: 5bd687de-10b6-47ec-8250-ae10ccbe80ba
      target: '1768964163036'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1768964018322-039dba51-4591-498c-a90c-cbed297f74e3-1768965043589-target
      selected: false
      source: '1768964018322'
      sourceHandle: 039dba51-4591-498c-a90c-cbed297f74e3
      target: '1768965043589'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1768964145113-source-1768965137872-target
      selected: false
      source: '1768964145113'
      sourceHandle: source
      target: '1768965137872'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1768965043589-source-1768965137872-target
      selected: false
      source: '1768965043589'
      sourceHandle: source
      target: '1768965137872'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: end
      id: 1768965137872-source-1768965271050-target
      selected: false
      source: '1768965137872'
      sourceHandle: source
      target: '1768965271050'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1768964163036-source-1768965137872-target
      selected: false
      source: '1768964163036'
      sourceHandle: source
      target: '1768965137872'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1768964018322-14e76213-0d11-474b-87a8-b3214ed53a8f-1768982649947-target
      source: '1768964018322'
      sourceHandle: 14e76213-0d11-474b-87a8-b3214ed53a8f
      target: '1768982649947'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1768964018322-75e4553b-f470-413f-8e40-3216d85a2b95-1768982681633-target
      source: '1768964018322'
      sourceHandle: 75e4553b-f470-413f-8e40-3216d85a2b95
      target: '1768982681633'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1768982649947-source-1768965137872-target
      source: '1768982649947'
      sourceHandle: source
      target: '1768965137872'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1768982681633-source-1768965137872-target
      source: '1768982681633'
      sourceHandle: source
      target: '1768965137872'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: iteration
      id: 1768964018322-2f4b93a8-3330-4325-848f-dcf3d50116de-1770878419691-target
      source: '1768964018322'
      sourceHandle: 2f4b93a8-3330-4325-848f-dcf3d50116de
      target: '1770878419691'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1770878419691'
        sourceType: iteration-start
        targetType: tool
      id: 1770878419691start-source-17708784817350-target
      source: 1770878419691start
      sourceHandle: source
      target: '17708784817350'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: code
      id: 1770878419691-source-1768965137872-target
      source: '1770878419691'
      sourceHandle: source
      target: '1768965137872'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: false
        title: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›
        type: start
        variables:
        - hint: ''
          label: action
          max_length: 48
          options:
          - list_stores
          - list_files
          - upload_file
          - delete_file
          - delete_store
          - create_store
          placeholder: ''
          required: true
          type: select
          variable: action
        - default: ''
          hint: ''
          label: payload
          max_length: 1000
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: payload
        - allowed_file_extensions: []
          allowed_file_types:
          - image
          - document
          allowed_file_upload_methods:
          - local_file
          default: ''
          hint: ''
          label: File
          max_length: 5
          options: []
          placeholder: ''
          required: false
          type: file-list
          variable: file
      height: 161
      id: '1768963579039'
      position:
        x: 0
        y: 139
      positionAbsolute:
        x: 0
        y: 139
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import json\nimport re\n\ndef main(payload: str) -> dict:\n    try:\n\
          \        # å…¥åŠ›ãŒç©ºã®å ´åˆã®ã‚¬ãƒ¼ãƒ‰\n        if not payload:\n            return default_output()\n\
          \n        # 1. ã¾ãšæ¨™æº–çš„ãªJSONãƒ‘ãƒ¼ã‚¹ã‚’è©¦ã¿ã‚‹\n        try:\n            data = json.loads(payload)\n\
          \        except json.JSONDecodeError:\n            # 2. å¤±æ•—ã—ãŸå ´åˆã€ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã‚’ãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆã«ç½®æ›ã—ã¦ãƒªãƒˆãƒ©ã‚¤ï¼ˆç°¡æ˜“çš„ãªä¿®å¾©ï¼‰\n\
          \            # æ³¨æ„: å€¤ã®ä¸­ã«ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆãŒå«ã¾ã‚Œã‚‹å ´åˆã¯ç ´æã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€PoCã¨ã—ã¦ã¯è¨±å®¹ã—ã¾ã™\n    \
          \        fixed_payload = payload.replace(\"'\", '\"')\n            data\
          \ = json.loads(fixed_payload)\n        \n        # å¾Œç¶šã®ãƒ„ãƒ¼ãƒ«ãŒä½¿ã„ã‚„ã™ã„ã‚ˆã†ã«å±•é–‹\n \
          \       return {\n            \"data\": data,\n            \"store_name\"\
          : data.get(\"storeName\", \"\"),\n            \"display_name\": data.get(\"\
          displayName\", \"\"),\n            \"document_id\": data.get(\"documentId\"\
          , \"\"),\n            \"page_token\": data.get(\"pageToken\", \"\"),\n \
          \           \"custom_metadata_str\": json.dumps(data.get(\"customMetadata\"\
          , []), ensure_ascii=False)\n        }\n    except Exception as e:\n    \
          \    # ã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ‡ãƒãƒƒã‚°ã—ã‚„ã™ã„ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’å«ã‚ã‚‹ï¼ˆæœ¬ç•ªã§ã¯ãƒ­ã‚°å‡ºåŠ›æ¨å¥¨ï¼‰\n        return default_output(error_msg=str(e))\n\
          \ndef default_output(error_msg=\"\"):\n    # ã‚¨ãƒ©ãƒ¼æ™‚ã¾ãŸã¯ç©ºå…¥åŠ›æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤\n    return\
          \ {\n        \"data\": {\"error\": error_msg}, # ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ãƒ‡ãƒ¼ã‚¿ã«å«ã‚ã‚‹\n       \
          \ \"store_name\": \"\",\n        \"display_name\": \"\",\n        \"document_id\"\
          : \"\",\n        \"page_token\": \"\",\n        \"custom_metadata_str\"\
          : \"[]\"\n    }"
        code_language: python3
        outputs:
          custom_metadata_str:
            children: null
            type: string
          data:
            children: null
            type: object
          display_name:
            children: null
            type: string
          document_id:
            children: null
            type: string
          page_token:
            children: null
            type: string
          store_name:
            children: null
            type: string
        selected: false
        title: Parse Payload
        type: code
        variables:
        - value_selector:
          - '1768963579039'
          - payload
          value_type: string
          variable: payload
      height: 52
      id: '1768963967522'
      position:
        x: 342
        y: 194
      positionAbsolute:
        x: 342
        y: 194
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 8fd51e41-429c-4420-b0fb-6d48a97277a7
            value: list_stores
            varType: string
            variable_selector:
            - '1768963579039'
            - action
          id: 'true'
          logical_operator: and
        - case_id: 5bd687de-10b6-47ec-8250-ae10ccbe80ba
          conditions:
          - comparison_operator: is
            id: 84ba59d3-b47a-40b0-b96d-8f236fbac4e5
            value: list_files
            varType: string
            variable_selector:
            - '1768963579039'
            - action
          id: 5bd687de-10b6-47ec-8250-ae10ccbe80ba
          logical_operator: and
        - case_id: 2f4b93a8-3330-4325-848f-dcf3d50116de
          conditions:
          - comparison_operator: is
            id: 9250431c-02f2-46ca-a8ef-bcd7d579bd04
            value: upload_file
            varType: string
            variable_selector:
            - '1768963579039'
            - action
          id: 2f4b93a8-3330-4325-848f-dcf3d50116de
          logical_operator: and
        - case_id: 039dba51-4591-498c-a90c-cbed297f74e3
          conditions:
          - comparison_operator: is
            id: 30960209-6e09-4450-990e-4c6255cafc9f
            value: delete_file
            varType: string
            variable_selector:
            - '1768963579039'
            - action
          id: 039dba51-4591-498c-a90c-cbed297f74e3
          logical_operator: and
        - case_id: 14e76213-0d11-474b-87a8-b3214ed53a8f
          conditions:
          - comparison_operator: is
            id: 142f7a47-2685-4d6e-8618-c026c0eae2b5
            value: create_store
            varType: string
            variable_selector:
            - '1768963579039'
            - action
          logical_operator: and
        - case_id: 75e4553b-f470-413f-8e40-3216d85a2b95
          conditions:
          - comparison_operator: is
            id: 55592e6e-6fb3-480d-8276-8a37cf5eb6b5
            value: delete_store
            varType: string
            variable_selector:
            - '1768963579039'
            - action
          logical_operator: and
        selected: false
        title: IF/ELSE
        type: if-else
      height: 364
      id: '1768964018322'
      position:
        x: 684
        y: 38
      positionAbsolute:
        x: 684
        y: 38
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas: []
        params: {}
        plugin_id: r3-yamauchi/gemini_file_search
        plugin_unique_identifier: r3-yamauchi/gemini_file_search:0.0.1@a9cf50b020b00b20f3b3f462d697f797517551d5d8bb8bf7ef078847080cabeb
        provider_icon: https://cloud.dify.ai/console/api/workspaces/current/plugin/icon?tenant_id=7c8ea1f1-d371-448a-846c-af9a868d7d0f&filename=3f9d718ced2ecb925cbe752d6311f3966405463315b8e898110f0a8cca969899.svg
        provider_id: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_name: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_type: builtin
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ä¸€è¦§
        tool_configurations: {}
        tool_description: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ã‚’ä¸€è¦§è¡¨ç¤ºã—ã¾ã™
        tool_label: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ä¸€è¦§
        tool_name: list_stores
        tool_node_version: '2'
        tool_parameters: {}
        type: tool
      height: 52
      id: '1768964145113'
      position:
        x: 1046
        y: 0
      positionAbsolute:
        x: 1046
        y: 0
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: File search store resource name (e.g., fileSearchStores/abc123)
            ja_JP: 'ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ã®ãƒªã‚½ãƒ¼ã‚¹åï¼ˆä¾‹: fileSearchStores/abc123ï¼‰'
            pt_BR: File search store resource name (e.g., fileSearchStores/abc123)
            zh_Hans: æ–‡ä»¶æœç´¢å­˜å‚¨èµ„æºåç§°ï¼ˆä¾‹å¦‚ï¼šfileSearchStores/abc123ï¼‰
          label:
            en_US: Store Name
            ja_JP: ã‚¹ãƒˆã‚¢å
            pt_BR: Store Name
            zh_Hans: å­˜å‚¨åç§°
          llm_description: File search store containing the documents
          max: null
          min: null
          name: file_search_store_name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Optional page size (1-100). Defaults to the API setting.
            ja_JP: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚ºï¼ˆ1ã€œ100ï¼‰ã€‚æœªè¨­å®šæ™‚ã¯APIãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€‚
            pt_BR: Optional page size (1-100). Defaults to the API setting.
            zh_Hans: å¯é€‰é¡µé¢å¤§å°ï¼ˆ1-100ï¼‰ã€‚æœªè®¾ç½®æ—¶ä½¿ç”¨APIé»˜è®¤ã€‚
          label:
            en_US: Page Size
            ja_JP: ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚º
            pt_BR: Page Size
            zh_Hans: é¡µé¢å¤§å°
          llm_description: Optional page size limit (max 100)
          max: null
          min: null
          name: page_size
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Provide the token from a previous response to fetch the next page
            ja_JP: å‰å›ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§å—ã‘å–ã£ãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã¨æ¬¡ãƒšãƒ¼ã‚¸ã‚’å–å¾—ã§ãã¾ã™
            pt_BR: Provide the token from a previous response to fetch the next page
            zh_Hans: æä¾›ä¸Šä¸€æ¬¡å“åº”ä¸­çš„ä»¤ç‰Œä»¥è·å–ä¸‹ä¸€é¡µ
          label:
            en_US: Page Token
            ja_JP: ãƒšãƒ¼ã‚¸ãƒˆãƒ¼ã‚¯ãƒ³
            pt_BR: Page Token
            zh_Hans: é¡µé¢ä»¤ç‰Œ
          llm_description: Page token for pagination
          max: null
          min: null
          name: page_token
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          file_search_store_name: ''
          page_size: ''
          page_token: ''
        plugin_id: r3-yamauchi/gemini_file_search
        plugin_unique_identifier: r3-yamauchi/gemini_file_search:0.0.1@a9cf50b020b00b20f3b3f462d697f797517551d5d8bb8bf7ef078847080cabeb
        provider_icon: https://cloud.dify.ai/console/api/workspaces/current/plugin/icon?tenant_id=7c8ea1f1-d371-448a-846c-af9a868d7d0f&filename=3f9d718ced2ecb925cbe752d6311f3966405463315b8e898110f0a8cca969899.svg
        provider_id: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_name: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_type: builtin
        selected: false
        title: ã‚¹ãƒˆã‚¢å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
        tool_configurations: {}
        tool_description: ç¾åœ¨ã®Geminiãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã•ã‚Œã¦ã„ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä¸€è¦§è¡¨ç¤ºã—ã¾ã™
        tool_label: ã‚¹ãƒˆã‚¢å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
        tool_name: list_files
        tool_node_version: '2'
        tool_parameters:
          file_search_store_name:
            type: mixed
            value: '{{#1768963967522.store_name#}}'
          page_size:
            type: constant
            value: null
          page_token:
            type: mixed
            value: '{{#1768963967522.page_token#}}'
        type: tool
      height: 52
      id: '1768964163036'
      position:
        x: 1046
        y: 132
      positionAbsolute:
        x: 1046
        y: 132
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Store that contains the document (e.g., fileSearchStores/abc123)
            ja_JP: 'ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å«ã‚€ã‚¹ãƒˆã‚¢åï¼ˆä¾‹: fileSearchStores/abc123ï¼‰'
            pt_BR: Store that contains the document (e.g., fileSearchStores/abc123)
            zh_Hans: åŒ…å«æ–‡æ¡£çš„å­˜å‚¨åç§°ï¼ˆä¾‹å¦‚ï¼šfileSearchStores/abc123ï¼‰
          label:
            en_US: Store Name
            ja_JP: ã‚¹ãƒˆã‚¢å
            pt_BR: Store Name
            zh_Hans: å­˜å‚¨åç§°
          llm_description: File search store resource name
          max: null
          min: null
          name: file_search_store_name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Full document resource name (preferred). If omitted, provide document_id.
            ja_JP: å®Œå…¨ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒªã‚½ãƒ¼ã‚¹åï¼ˆæ¨å¥¨ï¼‰ã€‚æœªæŒ‡å®šã®å ´åˆã¯ document_id ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
            pt_BR: Full document resource name (preferred). If omitted, provide document_id.
            zh_Hans: å®Œæ•´çš„æ–‡æ¡£èµ„æºåç§°ï¼ˆæ¨èï¼‰ã€‚å¦‚æœæœªæä¾›ï¼Œè¯·å¡«å†™ document_idã€‚
          label:
            en_US: Document Name
            ja_JP: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå
            pt_BR: Document Name
            zh_Hans: æ–‡æ¡£åç§°
          llm_description: Full document resource path
          max: null
          min: null
          name: document_name
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Document identifier when you do not have the full resource name
              (with or without the "documents/" prefix)
            ja_JP: å®Œå…¨ãªãƒªã‚½ãƒ¼ã‚¹åã‚’æŒãŸãªã„å ´åˆã®IDï¼ˆ"documents/"ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®æœ‰ç„¡ã¯ä»»æ„ï¼‰
            pt_BR: Document identifier when you do not have the full resource name
              (with or without the "documents/" prefix)
            zh_Hans: å½“æ²¡æœ‰å®Œæ•´èµ„æºåç§°æ—¶ä½¿ç”¨çš„æ–‡æ¡£IDï¼ˆå¯å¸¦æˆ–ä¸å¸¦ "documents/" å‰ç¼€ï¼‰
          label:
            en_US: Document ID
            ja_JP: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆID
            pt_BR: Document ID
            zh_Hans: æ–‡æ¡£ID
          llm_description: Document identifier used to build the resource name
          max: null
          min: null
          name: document_id
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Must be true to proceed. Prevents accidental deletions triggered
              by LLMs.
            ja_JP: true ã®å ´åˆã®ã¿å‰Šé™¤ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚LLMã«ã‚ˆã‚‹èª¤å‰Šé™¤é˜²æ­¢ã®ãŸã‚ã®ç¢ºèªã€‚
            pt_BR: Must be true to proceed. Prevents accidental deletions triggered
              by LLMs.
            zh_Hans: å¿…é¡»ä¸º true æ‰ä¼šæ‰§è¡Œåˆ é™¤ï¼Œä»¥é˜²æ­¢ LLM æ„å¤–åˆ é™¤ã€‚
          label:
            en_US: Confirm Deletion
            ja_JP: å‰Šé™¤ã‚’ç¢ºèªã™ã‚‹
            pt_BR: Confirm Deletion
            zh_Hans: ç¡®è®¤åˆ é™¤
          llm_description: Must be true to delete
          max: null
          min: null
          name: confirm
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: boolean
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Set to true to force deletion even if the document is in use
            ja_JP: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒä½¿ç”¨ä¸­ã§ã‚‚å‰Šé™¤ã™ã‚‹å ´åˆã¯ true ã«è¨­å®šã—ã¾ã™
            pt_BR: Set to true to force deletion even if the document is in use
            zh_Hans: å³ä½¿æ–‡æ¡£æ­£åœ¨ä½¿ç”¨ä¹Ÿè¦åˆ é™¤æ—¶è®¾ä¸º true
          label:
            en_US: Force Delete
            ja_JP: å¼·åˆ¶å‰Šé™¤
            pt_BR: Force Delete
            zh_Hans: å¼ºåˆ¶åˆ é™¤
          llm_description: Force flag for deletion
          max: null
          min: null
          name: force
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: boolean
        params:
          confirm: ''
          document_id: ''
          document_name: ''
          file_search_store_name: ''
          force: ''
        plugin_id: r3-yamauchi/gemini_file_search
        plugin_unique_identifier: r3-yamauchi/gemini_file_search:0.0.1@a9cf50b020b00b20f3b3f462d697f797517551d5d8bb8bf7ef078847080cabeb
        provider_icon: https://cloud.dify.ai/console/api/workspaces/current/plugin/icon?tenant_id=7c8ea1f1-d371-448a-846c-af9a868d7d0f&filename=3f9d718ced2ecb925cbe752d6311f3966405463315b8e898110f0a8cca969899.svg
        provider_id: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_name: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_type: builtin
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
        tool_configurations: {}
        tool_description: Gemini ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ã‹ã‚‰å˜ä¸€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¾ã™
        tool_label: ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
        tool_name: delete_file
        tool_node_version: '2'
        tool_parameters:
          confirm:
            type: constant
            value: true
          document_id:
            type: mixed
            value: '{{#1768963967522.document_id#}}'
          document_name:
            type: mixed
            value: ''
          file_search_store_name:
            type: mixed
            value: '{{#1768963967522.store_name#}}'
          force:
            type: constant
            value: true
        type: tool
      height: 52
      id: '1768965043589'
      position:
        x: 1046
        y: 264
      positionAbsolute:
        x: 1046
        y: 264
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import json\n\ndef main(action: str, res_list_stores: list, res_list_files:\
          \ list, res_upload: list, res_delete: list, res_create: list, res_delete_store:\
          \ list) -> dict:\n    \"\"\"\n    Format Response Node (JSON Output Adapter)\
          \ v2.0\n    ã‚¹ãƒˆã‚¢ä½œæˆãƒ»å‰Šé™¤å¯¾å¿œç‰ˆ\n    \"\"\"\n    \n    # 1. ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«å¿œã˜ãŸå…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®é¸æŠ\n\
          \    target_data = []\n    if action == \"list_stores\":\n        target_data\
          \ = res_list_stores\n    elif action == \"list_files\":\n        target_data\
          \ = res_list_files\n    elif action == \"upload_file\":\n        target_data\
          \ = res_upload\n    elif action == \"delete_file\":\n        target_data\
          \ = res_delete\n    elif action == \"create_store\":\n        target_data\
          \ = res_create\n    elif action == \"delete_store\":\n        target_data\
          \ = res_delete_store\n\n    # ã‚¬ãƒ¼ãƒ‰å‡¦ç†ï¼ˆNoneå¯¾ç­–ï¼‰\n    if target_data is None:\n\
          \        target_data = []\n    elif isinstance(target_data, str):\n    \
          \    try:\n            target_data = json.loads(target_data) if target_data.strip()\
          \ else []\n        except:\n            # æ–‡å­—åˆ—ã ãŒJSONã§ãªã„å ´åˆã€ãã®ã¾ã¾ãƒªã‚¹ãƒˆã«åŒ…ã‚€ï¼ˆä½œæˆãƒ»å‰Šé™¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã©ï¼‰\n\
          \            target_data = [{\"message\": target_data}]\n\n    formatted_result\
          \ = []\n\n    try:\n        # ==========================================\n\
          \        # Case 1: List Stores\n        # ==========================================\n\
          \        if action == \"list_stores\":\n            if isinstance(target_data,\
          \ list) and len(target_data) > 0:\n                first_item = target_data[0]\n\
          \                if isinstance(first_item, dict):\n                    stores_list\
          \ = first_item.get(\"stores\", [])\n                    for store in stores_list:\n\
          \                        formatted_result.append({\n                   \
          \         \"storeName\": store.get(\"name\", \"\"),\n                  \
          \          \"displayName\": store.get(\"display_name\", \"\"),\n       \
          \                     \"createdAt\": store.get(\"create_time\", \"\")\n\
          \                        })\n\n        # ==========================================\n\
          \        # Case 2: Create Store (New)\n        # ==========================================\n\
          \        elif action == \"create_store\":\n             # Gemini APIã®æˆ»ã‚Šå€¤æ§‹é€ ã«åˆã‚ã›ã¦èª¿æ•´\n\
          \            item = target_data if isinstance(target_data, dict) else (target_data[0]\
          \ if len(target_data) > 0 else {})\n            formatted_result.append({\n\
          \                \"storeName\": item.get(\"name\", \"\"),\n            \
          \    \"displayName\": item.get(\"display_name\", \"\"),\n              \
          \  \"createdAt\": item.get(\"create_time\", \"\"),\n                \"status\"\
          : \"created\"\n            })\n\n        # ==========================================\n\
          \        # Case 3: List Files\n        # ==========================================\n\
          \        elif action == \"list_files\":\n            if isinstance(target_data,\
          \ list) and len(target_data) > 0:\n                first_item = target_data[0]\n\
          \                if isinstance(first_item, dict):\n                    docs_list\
          \ = first_item.get(\"documents\", [])\n                    for doc in docs_list:\n\
          \                        # IDæŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯\n                        raw_id = doc.get(\"\
          name\", \"\")\n                        doc_id = raw_id\n               \
          \         if \"documents/\" in raw_id:\n                            start_index\
          \ = raw_id.find(\"documents/\")\n                            doc_id = raw_id[start_index:]\n\
          \n                        # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡º\n                        metadata_kv\
          \ = {}\n                        c_meta = doc.get(\"custom_metadata\", [])\n\
          \                        if isinstance(c_meta, list):\n                \
          \            for m in c_meta:\n                                if isinstance(m,\
          \ dict):\n                                    metadata_kv[m.get(\"key\"\
          )] = m.get(\"string_value\")\n\n                        formatted_result.append({\n\
          \                            \"documentId\": doc_id,\n                 \
          \           \"displayName\": doc.get(\"display_name\", \"\"),\n        \
          \                    \"mimeType\": doc.get(\"mime_type\", \"application/octet-stream\"\
          ),\n                            \"sizeBytes\": int(doc.get(\"size_bytes\"\
          , 0)),\n                            \"createTime\": doc.get(\"create_time\"\
          , \"\"),\n                            \"state\": doc.get(\"state\", \"ACTIVE\"\
          ),\n                            \"customMetadata\": metadata_kv\n      \
          \                  })\n\n        # ==========================================\n\
          \        # Case 4: Upload File\n        # ==========================================\n\
          \        elif action == \"upload_file\":\n            items = []\n     \
          \       if isinstance(target_data, list):\n                items = target_data\n\
          \            elif isinstance(target_data, dict):\n                items\
          \ = [target_data]\n\n            for item in items:\n                raw_id\
          \ = item.get(\"document_name\") or item.get(\"file_id\") or \"\"\n     \
          \           doc_id = raw_id\n                if \"documents/\" in raw_id:\n\
          \                    start_index = raw_id.find(\"documents/\")\n       \
          \             doc_id = raw_id[start_index:]\n                \n        \
          \        state = item.get(\"status\", \"ACTIVE\")\n                if state\
          \ == \"completed\":\n                    state = \"ACTIVE\"\n          \
          \      \n                formatted_result.append({\n                   \
          \ \"documentId\": doc_id,\n                    \"displayName\": item.get(\"\
          display_name\", \"Unknown\"),\n                    \"mimeType\": \"application/octet-stream\"\
          ,\n                    \"sizeBytes\": 0,\n                    \"createTime\"\
          : \"\",\n                    \"state\": state,\n                    \"customMetadata\"\
          : {}\n                })\n\n        # ==========================================\n\
          \        # Case 5: Delete File / Delete Store\n        # ==========================================\n\
          \        elif action in [\"delete_file\", \"delete_store\"]:\n         \
          \   # å‰Šé™¤æˆåŠŸæ™‚ã¯ç©ºã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚„å˜ç´”ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå¤šã„ãŸã‚ã€æˆåŠŸãƒ•ãƒ©ã‚°ã‚’è¿”ã™\n            return {\"result\"\
          : [{\"success\": True, \"action\": action, \"details\": target_data}]}\n\
          \n        # ==========================================\n        # Return\
          \ Result\n        # ==========================================\n       \
          \ return {\"result\": formatted_result}\n\n    except Exception as e:\n\
          \        return {\n            \"result\": [],\n            \"error\": str(e),\n\
          \            \"debug_info\": str(target_data)[:200]\n        }"
        code_language: python3
        outputs:
          result:
            children: null
            type: array[object]
        selected: false
        title: Format Response
        type: code
        variables:
        - value_selector:
          - '1768963579039'
          - action
          value_type: string
          variable: action
        - value_selector:
          - '1768964145113'
          - json
          value_type: array[object]
          variable: res_list_stores
        - value_selector:
          - '1768964163036'
          - json
          value_type: array[object]
          variable: res_list_files
        - value_selector:
          - '1770878419691'
          - output
          value_type: array[file]
          variable: res_upload
        - value_selector:
          - '1768965043589'
          - json
          value_type: array[object]
          variable: res_delete
        - value_selector:
          - '1768982649947'
          - json
          value_type: array[object]
          variable: res_create
        - value_selector:
          - '1768982681633'
          - json
          value_type: array[object]
          variable: res_delete_store
      height: 52
      id: '1768965137872'
      position:
        x: 1652
        y: 268
      positionAbsolute:
        x: 1652
        y: 268
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        outputs:
        - value_selector:
          - '1768965137872'
          - result
          value_type: string
          variable: result
        selected: false
        title: å‡ºåŠ›
        type: end
      height: 88
      id: '1768965271050'
      position:
        x: 1994
        y: 250
      positionAbsolute:
        x: 1994
        y: 250
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Optional display name for the file search store (helps identify
              the store later)
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¡¨ç¤ºåï¼ˆå¾Œã§ã‚¹ãƒˆã‚¢ã‚’è­˜åˆ¥ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ï¼‰
            pt_BR: Optional display name for the file search store (helps identify
              the store later)
            zh_Hans: æ–‡ä»¶æœç´¢å­˜å‚¨çš„å¯é€‰æ˜¾ç¤ºåç§°ï¼ˆæœ‰åŠ©äºä»¥åè¯†åˆ«å­˜å‚¨ï¼‰
          label:
            en_US: Display Name
            ja_JP: è¡¨ç¤ºå
            pt_BR: Display Name
            zh_Hans: æ˜¾ç¤ºåç§°
          llm_description: Optional human-readable name for the store
          max: null
          min: null
          name: display_name
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          display_name: ''
        plugin_id: r3-yamauchi/gemini_file_search
        plugin_unique_identifier: r3-yamauchi/gemini_file_search:0.0.1@a9cf50b020b00b20f3b3f462d697f797517551d5d8bb8bf7ef078847080cabeb
        provider_icon: https://cloud.dify.ai/console/api/workspaces/current/plugin/icon?tenant_id=7c8ea1f1-d371-448a-846c-af9a868d7d0f&filename=3f9d718ced2ecb925cbe752d6311f3966405463315b8e898110f0a8cca969899.svg
        provider_id: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_name: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_type: builtin
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ä½œæˆ
        tool_configurations: {}
        tool_description: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä¿å­˜ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã®ãŸã‚ã®æ–°ã—ã„Geminiãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ã‚’ä½œæˆã—ã¾ã™
        tool_label: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ä½œæˆ
        tool_name: create_store
        tool_node_version: '2'
        tool_parameters:
          display_name:
            type: mixed
            value: '{{#1768963967522.display_name#}}'
        type: tool
      height: 52
      id: '1768982649947'
      position:
        x: 1046
        y: 396
      positionAbsolute:
        x: 1046
        y: 396
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The name of the file search store to delete (e.g., fileSearchStores/abc123)
            ja_JP: 'å‰Šé™¤ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢åï¼ˆä¾‹: fileSearchStores/abc123ï¼‰'
            pt_BR: The name of the file search store to delete (e.g., fileSearchStores/abc123)
            zh_Hans: è¦åˆ é™¤çš„æ–‡ä»¶æœç´¢å­˜å‚¨åç§°ï¼ˆä¾‹å¦‚ï¼šfileSearchStores/abc123ï¼‰
          label:
            en_US: Store Name
            ja_JP: ã‚¹ãƒˆã‚¢å
            pt_BR: Store Name
            zh_Hans: å­˜å‚¨åç§°
          llm_description: Store name to delete
          max: null
          min: null
          name: file_search_store_name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: 'Force deletion even if the store contains documents (default:
              false)'
            ja_JP: 'ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¦ã‚‚å¼·åˆ¶å‰Šé™¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰'
            pt_BR: 'Force deletion even if the store contains documents (default:
              false)'
            zh_Hans: å³ä½¿å­˜å‚¨åŒ…å«æ–‡æ¡£ä¹Ÿå¼ºåˆ¶åˆ é™¤ï¼ˆé»˜è®¤ï¼šfalseï¼‰
          label:
            en_US: Force Delete
            ja_JP: å¼·åˆ¶å‰Šé™¤
            pt_BR: Force Delete
            zh_Hans: å¼ºåˆ¶åˆ é™¤
          llm_description: Whether to force deletion
          max: null
          min: null
          name: force
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: boolean
        params:
          file_search_store_name: ''
          force: ''
        plugin_id: r3-yamauchi/gemini_file_search
        plugin_unique_identifier: r3-yamauchi/gemini_file_search:0.0.1@a9cf50b020b00b20f3b3f462d697f797517551d5d8bb8bf7ef078847080cabeb
        provider_icon: https://cloud.dify.ai/console/api/workspaces/current/plugin/icon?tenant_id=7c8ea1f1-d371-448a-846c-af9a868d7d0f&filename=3f9d718ced2ecb925cbe752d6311f3966405463315b8e898110f0a8cca969899.svg
        provider_id: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_name: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_type: builtin
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢å‰Šé™¤
        tool_configurations: {}
        tool_description: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ã¨ãã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å®Œå…¨ã«å‰Šé™¤ã—ã¾ã™
        tool_label: ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢å‰Šé™¤
        tool_name: delete_store
        tool_node_version: '2'
        tool_parameters:
          file_search_store_name:
            type: mixed
            value: '{{#1768963967522.store_name#}}'
          force:
            type: constant
            value: true
        type: tool
      height: 52
      id: '1768982681633'
      position:
        x: 1046
        y: 528
      positionAbsolute:
        x: 1046
        y: 528
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        error_handle_mode: terminated
        flatten_output: true
        height: 172
        is_parallel: false
        iterator_input_type: array[file]
        iterator_selector:
        - '1768963579039'
        - file
        output_selector:
        - '17708784817350'
        - files
        output_type: array[file]
        parallel_nums: 10
        selected: false
        start_node_id: 1770878419691start
        title: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        type: iteration
        width: 486
      height: 172
      id: '1770878419691'
      position:
        x: 1046
        y: 660
      positionAbsolute:
        x: 1046
        y: 660
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 486
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1770878419691start
      parentId: '1770878419691'
      position:
        x: 60
        y: 62
      positionAbsolute:
        x: 1106
        y: 722
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1770878419691'
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The name of the file search store to upload to (e.g., fileSearchStores/abc123)
            ja_JP: 'ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å…ˆã®ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢åï¼ˆä¾‹: fileSearchStores/abc123ï¼‰'
            pt_BR: The name of the file search store to upload to (e.g., fileSearchStores/abc123)
            zh_Hans: è¦ä¸Šä¼ åˆ°çš„æ–‡ä»¶æœç´¢å­˜å‚¨åç§°ï¼ˆä¾‹å¦‚ï¼šfileSearchStores/abc123ï¼‰
          label:
            en_US: Store Name
            ja_JP: ã‚¹ãƒˆã‚¢å
            pt_BR: Store Name
            zh_Hans: å­˜å‚¨åç§°
          llm_description: Target file search store name in format fileSearchStores/xxx
          max: null
          min: null
          name: file_search_store_name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The file to upload (PDF, TXT, DOCX, Markdown, etc.)
            ja_JP: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPDF, TXT, DOCX, Markdownç­‰ï¼‰
            pt_BR: The file to upload (PDF, TXT, DOCX, Markdown, etc.)
            zh_Hans: è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼ˆPDFã€TXTã€DOCXã€Markdownç­‰ï¼‰
          label:
            en_US: File
            ja_JP: ãƒ•ã‚¡ã‚¤ãƒ«
            pt_BR: File
            zh_Hans: æ–‡ä»¶
          llm_description: File to upload and index
          max: null
          min: null
          name: file
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: file
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Unique file name that will be visible in citations (required)
            ja_JP: å‡ºå…¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ä¸€æ„ã®ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆå¿…é ˆï¼‰
            pt_BR: Unique file name that will be visible in citations (required)
            zh_Hans: åœ¨å¼•ç”¨ä¸­å¯è§çš„å”¯ä¸€æ–‡ä»¶åï¼ˆå¿…éœ€ï¼‰
          label:
            en_US: Display Name
            ja_JP: è¡¨ç¤ºå
            pt_BR: Display Name
            zh_Hans: æ˜¾ç¤ºåç§°
          llm_description: Display name for the file (used in citations)
          max: null
          min: null
          name: display_name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Optional metadata as JSON array, e.g. [{"key":"author","string_value":"John"}]
            ja_JP: ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆJSONé…åˆ—ï¼‰ã€ä¾‹ï¼š[{"key":"author","string_value":"John"}]
            pt_BR: Optional metadata as JSON array, e.g. [{"key":"author","string_value":"John"}]
            zh_Hans: å¯é€‰å…ƒæ•°æ®ï¼ˆJSONæ•°ç»„ï¼‰ï¼Œä¾‹å¦‚ï¼š[{"key":"author","string_value":"John"}]
          label:
            en_US: Custom Metadata (JSON)
            ja_JP: ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆJSONï¼‰
            pt_BR: Custom Metadata (JSON)
            zh_Hans: è‡ªå®šä¹‰å…ƒæ•°æ®ï¼ˆJSONï¼‰
          llm_description: Optional custom metadata for filtering (JSON array format)
          max: null
          min: null
          name: custom_metadata
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Maximum number of tokens per chunk (default uses Gemini's automatic
              setting)
            ja_JP: ãƒãƒ£ãƒ³ã‚¯ã‚ãŸã‚Šã®æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Geminiã®è‡ªå‹•è¨­å®šã‚’ä½¿ç”¨ï¼‰
            pt_BR: Maximum number of tokens per chunk (default uses Gemini's automatic
              setting)
            zh_Hans: æ¯ä¸ªå—çš„æœ€å¤§ä»¤ç‰Œæ•°ï¼ˆé»˜è®¤ä½¿ç”¨Geminiçš„è‡ªåŠ¨è®¾ç½®ï¼‰
          label:
            en_US: Max Tokens Per Chunk
            ja_JP: ãƒãƒ£ãƒ³ã‚¯ã‚ãŸã‚Šã®æœ€å¤§ãƒˆãƒ¼ã‚¯ãƒ³æ•°
            pt_BR: Max Tokens Per Chunk
            zh_Hans: æ¯å—æœ€å¤§ä»¤ç‰Œæ•°
          llm_description: Optional max tokens per chunk for custom chunking
          max: null
          min: null
          name: max_tokens_per_chunk
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Maximum number of overlapping tokens between chunks (default uses
              Gemini's automatic setting)
            ja_JP: ãƒãƒ£ãƒ³ã‚¯é–“ã®æœ€å¤§é‡è¤‡ãƒˆãƒ¼ã‚¯ãƒ³æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Geminiã®è‡ªå‹•è¨­å®šã‚’ä½¿ç”¨ï¼‰
            pt_BR: Maximum number of overlapping tokens between chunks (default uses
              Gemini's automatic setting)
            zh_Hans: å—ä¹‹é—´çš„æœ€å¤§é‡å ä»¤ç‰Œæ•°ï¼ˆé»˜è®¤ä½¿ç”¨Geminiçš„è‡ªåŠ¨è®¾ç½®ï¼‰
          label:
            en_US: Max Overlap Tokens
            ja_JP: æœ€å¤§é‡è¤‡ãƒˆãƒ¼ã‚¯ãƒ³æ•°
            pt_BR: Max Overlap Tokens
            zh_Hans: æœ€å¤§é‡å ä»¤ç‰Œæ•°
          llm_description: Optional max overlap tokens for custom chunking
          max: null
          min: null
          name: max_overlap_tokens
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        params:
          custom_metadata: ''
          display_name: ''
          file: ''
          file_search_store_name: ''
          max_overlap_tokens: ''
          max_tokens_per_chunk: ''
        plugin_id: r3-yamauchi/gemini_file_search
        plugin_unique_identifier: r3-yamauchi/gemini_file_search:0.0.1@a9cf50b020b00b20f3b3f462d697f797517551d5d8bb8bf7ef078847080cabeb
        provider_icon: https://cloud.dify.ai/console/api/workspaces/current/plugin/icon?tenant_id=7c8ea1f1-d371-448a-846c-af9a868d7d0f&filename=3f9d718ced2ecb925cbe752d6311f3966405463315b8e898110f0a8cca969899.svg
        provider_id: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_name: r3-yamauchi/gemini_file_search/gemini_file_search
        provider_type: builtin
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ãƒˆã‚¢ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        tool_configurations: {}
        tool_description: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚¹ãƒˆã‚¢ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã€è‡ªå‹•çš„ã«ãƒãƒ£ãƒ³ã‚¯åŒ–ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã‚’è¡Œã„ã¾ã™
        tool_label: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ãƒˆã‚¢ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        tool_name: upload_file
        tool_node_version: '2'
        tool_parameters:
          custom_metadata:
            type: mixed
            value: '{{#1768963967522.custom_metadata_str#}}'
          display_name:
            type: mixed
            value: '{{#1770878419691.item.name#}}'
          file:
            type: variable
            value:
            - '1770878419691'
            - item
          file_search_store_name:
            type: mixed
            value: '{{#1768963967522.store_name#}}'
          max_overlap_tokens:
            type: constant
            value: null
          max_tokens_per_chunk:
            type: constant
            value: null
        type: tool
      height: 52
      id: '17708784817350'
      parentId: '1770878419691'
      position:
        x: 184
        y: 60
      positionAbsolute:
        x: 1230
        y: 720
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    viewport:
      x: -988.5
      y: 131.7
      zoom: 0.7
  rag_pipeline_variables: []
